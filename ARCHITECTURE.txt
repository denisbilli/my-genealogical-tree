┌─────────────────────────────────────────────────────────────────────────┐
│                     MY GENEALOGICAL TREE APPLICATION                     │
└─────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────┐
│                              FRONTEND (React)                            │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                          │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐                 │
│  │    Login     │  │   Register   │  │  Dashboard   │                 │
│  │    Page      │  │     Page     │  │     Page     │                 │
│  └──────────────┘  └──────────────┘  └──────────────┘                 │
│                                                                          │
│  ┌──────────────┐  ┌──────────────────────────────────┐               │
│  │   TreeView   │  │      PersonModal                 │               │
│  │     Page     │  │   (Add/Edit Component)           │               │
│  └──────────────┘  └──────────────────────────────────┘               │
│                                                                          │
│  ┌──────────────────────────────────────────────────────┐              │
│  │            React-D3-Tree (Visual Tree)                │              │
│  │   • Interactive nodes                                 │              │
│  │   • Color-coded by gender                             │              │
│  │   • Click to view/edit                                │              │
│  └──────────────────────────────────────────────────────┘              │
│                           ▲                                              │
│                           │ Axios API Calls                             │
│                           ▼                                              │
└─────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────┐
│                         BACKEND (Express.js)                             │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                          │
│  ┌────────────────────────────────────────────────────────┐            │
│  │                    API ROUTES                           │            │
│  │  ┌──────────────────────┐  ┌──────────────────────┐   │            │
│  │  │  /api/auth           │  │  /api/persons         │   │            │
│  │  │  • POST /register    │  │  • GET /              │   │            │
│  │  │  • POST /login       │  │  • GET /:id           │   │            │
│  │  └──────────────────────┘  │  • POST / (upload)    │   │            │
│  │                             │  • PUT /:id           │   │            │
│  │  ┌──────────────────────┐  │  • DELETE /:id        │   │            │
│  │  │   MIDDLEWARE         │  │  • POST /relationship │   │            │
│  │  │  • JWT Auth          │  │  • GET /search/matches│   │            │
│  │  │  • Rate Limiting     │  └──────────────────────┘   │            │
│  │  │  • Multer Upload     │                              │            │
│  │  └──────────────────────┘                              │            │
│  └────────────────────────────────────────────────────────┘            │
│                           ▲                                              │
│                           │ Mongoose ODM                                │
│                           ▼                                              │
└─────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────┐
│                         DATABASE (MongoDB)                               │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                          │
│  ┌────────────────────────────┐    ┌────────────────────────────┐     │
│  │       users Collection      │    │     persons Collection      │     │
│  ├────────────────────────────┤    ├────────────────────────────┤     │
│  │ • _id                       │    │ • _id                       │     │
│  │ • username                  │    │ • userId (ref: User)        │     │
│  │ • email                     │    │ • firstName, lastName       │     │
│  │ • password (hashed)         │    │ • gender                    │     │
│  │ • fullName                  │    │ • birthDate, birthPlace     │     │
│  │ • createdAt                 │    │ • deathDate, deathPlace     │     │
│  └────────────────────────────┘    │ • photoUrl                  │     │
│                                     │ • notes                     │     │
│                                     │ • parents[] (refs)          │     │
│                                     │ • children[] (refs)         │     │
│                                     │ • spouse[] (refs)           │     │
│                                     │ • createdAt, updatedAt      │     │
│                                     └────────────────────────────┘     │
└─────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────┐
│                          KEY FEATURES                                    │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                          │
│  ✅ User Authentication (JWT)                                           │
│  ✅ Visual Tree Interface (React-D3-Tree)                               │
│  ✅ Photo Upload & Display (Multer)                                     │
│  ✅ Automatic Matching Algorithm                                        │
│  ✅ Relationship Management (Parent/Child/Spouse)                       │
│  ✅ Rate Limiting Security                                              │
│  ✅ Responsive Design                                                   │
│  ✅ Data Persistence                                                    │
│                                                                          │
└─────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────┐
│                        USER FLOW                                         │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                          │
│  1. Register/Login → JWT Token Generated                                │
│  2. Dashboard → View All Family Members (Cards with Photos)             │
│  3. Add Person → Modal Form with Photo Upload                           │
│  4. View Tree → Interactive D3 Visualization                            │
│  5. Click Node → View/Edit Person Details                               │
│  6. Automatic Match → Discover Connections with Other Users             │
│                                                                          │
└─────────────────────────────────────────────────────────────────────────┘
